{"swagger":"2.0","info":{"version":"1.0.0","title":"Api documentation","description":"","termsOfService":""},"securityDefinitions":{},"consumes":["application/json","text/json"],"produces":["application/json"],"tags":[{"name":"OrganizationAccounts"},{"name":"OrganizationLocations"},{"name":"OrganizationTemplates"},{"name":"Organizations"}],"paths":{"/orgs":{"get":{"operationId":"Organizations.all","tags":["Organizations"],"responses":{"200":{"description":"Success","schema":{"type":"array","items":{"$ref":"#/definitions/Organization"}}}}},"post":{"operationId":"Organizations.post","tags":["Organizations"],"parameters":[{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/CreateOrganization"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/Organization"}},"400":{"description":"Missing required parameter"},"409":{"description":"Conflict"}}}},"/orgs/{organization_id}":{"get":{"operationId":"Organizations.get","tags":["Organizations"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Organization"}},"404":{"description":"Not found"}}},"put":{"operationId":"Organizations.put","tags":["Organizations"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/CreateOrganization"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Organization"}},"400":{"description":"Missing required parameter"}}}},"/orgs/{organization_id}/verified":{"get":{"operationId":"Organizations.verified","tags":["Organizations"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true}],"responses":{"200":{"description":"Success","schema":{"type":"boolean"}},"404":{"description":"Not found"}}}},"/orgs/{organization_id}/verify":{"put":{"operationId":"Organizations.verify","tags":["Organizations"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Organizations"}},"404":{"description":"Not found"},"412":{"description":"Precondition failed"}}}},"/orgs/{organization_id}/verification_code":{"get":{"operationId":"Organizations.verification_code","tags":["Organizations"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true}],"responses":{"200":{"description":"Success","schema":{"type":"string"}},"404":{"description":"Not found"}}}},"/orgs/{organization_id}/accounts":{"get":{"operationId":"OrganizationAccounts.all","tags":["OrganizationAccounts"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true}],"responses":{"200":{"description":"Success","schema":{"type":"array","items":{"$ref":"#/definitions/Account"}}},"404":{"description":"Not found"}}},"post":{"operationId":"OrganizationAccounts.post","tags":["OrganizationAccounts"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Account"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/ModelKey"}},"400":{"description":"Missing required parameter"},"403":{"description":"Bad request"}}}},"/orgs/{organization_id}/accounts/{account_id}":{"get":{"operationId":"OrganizationAccounts.get","tags":["OrganizationAccounts"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true},{"in":"path","name":"account_id","type":"string","required":true}],"responses":{"200":{"description":"Success"},"404":{"description":"Not found"}}},"put":{"operationId":"OrganizationAccounts.put","tags":["OrganizationAccounts"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true},{"in":"path","name":"account_id","type":"string","required":true},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Account"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/ModelKey"}},"400":{"description":"Missing required parameter"},"403":{"description":"Bad request"},"409":{"description":"Conflict"}}}},"/orgs/{organization_id}/locations":{"get":{"operationId":"OrganizationLocations.all","tags":["OrganizationLocations"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true}],"responses":{"200":{"description":"Success","schema":{"type":"array","items":{"$ref":"#/definitions/Location"}}},"404":{"description":"Not found"}}},"post":{"operationId":"OrganizationLocations.post","tags":["OrganizationLocations"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Location"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ModelKey"}},"400":{"description":"Missing required parameter"}}}},"/orgs/{organization_id}/locations/{organization_location_id}":{"get":{"operationId":"OrganizationLocations.get","tags":["OrganizationLocations"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true},{"in":"path","name":"organization_location_id","type":"string","required":true}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Location"}},"404":{"description":"Not found"}}},"put":{"operationId":"OrganizationLocations.put","tags":["OrganizationLocations"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true},{"in":"path","name":"organization_location_id","type":"string","required":true},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Location"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ModelKey"}},"400":{"description":"Missing required parameter"}}}},"/orgs/{organization_id}/templates":{"get":{"operationId":"OrganizationTemplates.all","tags":["OrganizationTemplates"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true}],"responses":{"200":{"description":"Success","schema":{"type":"array","items":{"$ref":"#/definitions/Template"}}}}},"post":{"operationId":"OrganizationTemplates.post","tags":["OrganizationTemplates"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/Template"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/Template"}},"400":{"description":"Missing required parameter"},"409":{"description":"Conflict"}}}},"/orgs/{organization_id}/templates/{template_id}":{"put":{"operationId":"OrganizationTemplates.put","tags":["OrganizationTemplates"],"parameters":[{"in":"path","name":"organization_id","type":"string","required":true},{"in":"path","name":"template_id","type":"string","required":true},{"in":"body","name":"body","required":false,"schema":{"type":"object"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}},"404":{"description":"Not found"}}}}},"definitions":{"Location":{"properties":{"organization_name":{"pattern":"^[a-z0-9]+(?:-[a-z0-9]+)*$","type":"string"},"organization_title":{"minLength":8,"maxLength":256,"type":"string"}},"required":["organization_name","organization_title"],"type":"object"},"Organization":{"properties":{"domain":{"pattern":"(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]","type":"string"},"email":{"format":"email","type":"string"},"organization_name":{"pattern":"^[a-z0-9]+(?:-[a-z0-9]+)*$","type":"string"},"organization_title":{"minLength":8,"maxLength":256,"type":"string"},"locations":{"default":[],"items":{"$ref":"#/definitions/Location"},"type":"array"},"verification_code":{"type":"string"}},"required":["domain","email","organization_name","organization_title"],"type":"object"},"CreateOrganization":{"properties":{"domain":{"pattern":"(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]","type":"string"},"email":{"format":"email","type":"string"},"organization_name":{"pattern":"^[a-z0-9]+(?:-[a-z0-9]+)*$","type":"string"},"organization_title":{"minLength":8,"maxLength":256,"type":"string"},"locations":{"default":[],"items":{"$ref":"#/definitions/Location"},"type":"array"},"verification_code":{"type":"string"},"password":{"minLength":24,"maxLength":4096,"type":"string"}},"required":["domain","email","organization_name","organization_title","password"],"type":"object"},"Organizations":{"type":"object","properties":{}},"AccountSync":{"properties":{"account_sync_handler":{"maxLength":256,"type":"string"}},"required":["account_sync_handler"],"type":"object"},"Account":{"properties":{"account_reference":{"minLength":8,"maxLength":128,"description":"Account Reference can be used for any purpose.","type":"string"},"enabled":{"default":true,"type":"boolean"},"owner_email":{"format":"email","description":"Account Owner's email.","type":"string"},"owner_name":{"minLength":8,"maxLength":128,"description":"Account Owner's name.","type":"string"},"owner_legal_name":{"minLength":8,"maxLength":128,"description":"Account Owner's optional legal name.","type":"string"},"sync":{"default":[],"items":{"$ref":"#/definitions/AccountSync"},"type":"array"}},"required":["account_reference","owner_email","owner_name"],"type":"object"},"ModelKey":{"properties":{"id":{"type":"string"},"model":{"type":"object"}},"type":"object"},"Template":{"properties":{"context":{"default":{},"type":"object"},"mediatype":{"pattern":"(application|audio|font|example|image|message|model|multipart|text|video|x-(?:[0-9A-Za-z!#$%&'*+.^_`|~-]+))\\/([0-9A-Za-z!#$%&'*+.^_`|~-]+)","default":"text/html","type":"string"},"name":{"minLength":8,"maxLength":256,"type":"string"},"organization_id":{"pattern":"^[a-z0-9]+(?:-[a-z0-9]+)*$","type":"string"},"slug":{"pattern":"^[a-z0-9]+(?:-[a-z0-9]+)*$","type":"string"},"template":{"type":"string"}},"required":["context","mediatype","name","organization_id","slug","template"],"type":"object"},"Object":{"type":"object","properties":{}}}}